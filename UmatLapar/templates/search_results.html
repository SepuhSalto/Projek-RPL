{% load static tailwind_tags %}
<!DOCTYPE html>
<html>
<head>
    <title>Menu List</title>
    {% tailwind_css %}
</head>
<body>


    <form method="GET" action="{% url 'crud:menu_list' %}" class="mb-4 p-4 bg-gray-100 rounded-lg shadow-md flex items-center space-x-4">
        {{ menu_filter.form.as_p }}
        <button class="btn btn-primary bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" type="submit">Search</button>
    </form>

    <div class="menu-list">
        {% for menu in menu_filter.qs %} 
        <div class="menu-item">
            {% if menu.foto %}
                <img src="{{ menu.foto.url }}" alt="{{ menu.namaMenu }}" />
            {% endif %}
            <h2>{{ menu.namaMenu }}</h2>
            <p>Restaurant: {{ menu.idrestoran.namaRestoran }}</p>
            <p>Category: {{ menu.idkategori.kategori }}</p>
            {% if menu.average_rating %} 
            <p>Average Rating: {{ menu.average_rating|floatformat:1 }}</p> 
            {% endif %}
            </div>
        {% endfor %}
    </div>

    {% if is_paginated %}
    <div class="pagination">
        <span class="page-links">
            {% if page_obj.has_previous %}
                <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
            {% endif %}
            <span class="page-current">
                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
            </span>
            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">Next</a>
            {% endif %}
        </span>
    </div>
    {% endif %}

</body>
</html>